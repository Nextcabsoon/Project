# –†–ê–ë–û–ß–ê–Ø HTML –ß–ê–°–¢–¨

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        if results['is_safe'] == False:
            results['recommendations'].append('üö´ –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ')
        elif results['is_safe'] == None:
            results['recommendations'].append('‚ö†Ô∏è –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ')
        else:
            results['recommendations'].append('‚úÖ –°—Å—ã–ª–∫–∞ –≤—ã–≥–ª—è–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–π, –Ω–æ –≤—Å–µ–≥–¥–∞ –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã')
        
        return results
        
    except Exception as e:
        return {
            'url': original_url,
            'error': str(e),
            'is_safe': None,
            'risk_score': 0
        }

@app.route('/')
def index():
    domain_count = len(SAFE_DOMAINS_SET)
    domain_count_formatted = f"{domain_count:,}"
    domain_count_millions = f"{domain_count / 1000000:.1f}M"
    return render_template('index.html', 
                         domain_count=domain_count,
                         domain_count_formatted=domain_count_formatted,
                         domain_count_millions=domain_count_millions)

@app.route('/check', methods=['POST'])
def check_url():
    data = request.get_json()
    url = data.get('url', '')
    
    if not url:
        return jsonify({'error': 'URL –Ω–µ —É–∫–∞–∑–∞–Ω'}), 400
    
    result = check_url_safety(url)
    return jsonify(result)

if name == 'main':
    print("=" * 60)
    print("üõ°  –°–ï–†–í–ï–† –ü–†–û–í–ï–†–ö–ò –°–°–´–õ–û–ö –ù–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨")
    print("=" * 60)
    print(f"üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: {len(SAFE_DOMAINS_SET)} –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤")
    print("üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:5000")
    print("üìã –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É –≤—ã—à–µ")
    print("=" * 60)
    app.run(debug=True, host='0.0.0.0', port=5000)
